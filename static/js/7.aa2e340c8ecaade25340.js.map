{"version":3,"sources":["webpack:///static/js/7.aa2e340c8ecaade25340.js","webpack:///./src/views/visitor/record.vue?9359","webpack:///./src/api/visitor.js","webpack:///./src/views/visitor/record.vue?c51a","webpack:///record.vue","webpack:///./src/views/visitor/record.vue","webpack:///./src/views/visitor/record.vue?1c0a"],"names":["webpackJsonp","ApoL","module","exports","__webpack_require__","content","i","locals","Bdh/","__webpack_exports__","record","params","__WEBPACK_IMPORTED_MODULE_0__utils_fetch1__","url","method","data","qs","stringify","headers","Content-Type","list","FOfH","push","OvCw","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default","__WEBPACK_IMPORTED_MODULE_2_vuex__","__WEBPACK_IMPORTED_MODULE_3__api_visitor__","validatePhone","rule","callback","test","Error","validateEmpty","length","errMsg","form","name","sex","mobile","store_id","recommend_staff","reception_staff","visit_type","isRecommend","formRules","validator","trigger","this","isSubmit","computed","labelPosition","winsize","methods","submitForm","formName","_this","$refs","validate","valid","$message","error","onSubmit","_this2","then","response","success","visitTypeChange","bGJx","injectStyle","ssrContext","disposed","Component","options","__file","esModule","keys","some","key","substr","functional","gk3x","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","rules","label-width","label-position","label","prop","$$v","expression","_v","placeholder","on","change","directives","rawName","type","loading","click","$event","staticRenderFns","_withStripped"],"mappings":"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","file":"static/js/7.aa2e340c8ecaade25340.js","sourcesContent":["webpackJsonp([7],{\n\n/***/ \"ApoL\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"FOfH\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"000e1122\", content, false);\n// Hot Module Replacement\nif(false) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-779b19c6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./record.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-779b19c6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./record.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ \"Bdh/\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = record;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = list;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_fetch1__ = __webpack_require__(\"k97f\");\n\nvar qs = __webpack_require__(\"mw3O\");\n\nfunction record(params) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch1__[\"a\" /* default */])({\n    // baseURL: 'https://easy-mock.com/mock/59a44c219d8ef6191d07f0af/inwill',\n    url: '/api/visit/add',\n    method: 'post',\n    data: qs.stringify(params),\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded'\n    }\n  });\n}\n\nfunction list(params) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch1__[\"a\" /* default */])({\n    // baseURL: 'https://easy-mock.com/mock/59a44c219d8ef6191d07f0af/inwill',\n    url: '/api/visit/lists',\n    method: 'post',\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded'\n    },\n    data: qs.stringify(params)\n  });\n}\n\n/***/ }),\n\n/***/ \"FOfH\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(false);\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.visitor-record .el-form {\\r\\n  width: 100%;\\r\\n  max-width: 600px;\\n}\\n.visitor-record .save {\\r\\n  margin: 20px;\\r\\n  text-align: center;\\n}\\r\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"OvCw\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(\"Dd8w\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__ = __webpack_require__(\"pFYg\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vuex__ = __webpack_require__(\"NYxO\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__api_visitor__ = __webpack_require__(\"Bdh/\");\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    // 验证手机号码\n    var validatePhone = function validatePhone(rule, value, callback) {\n      if (!value) {\n        return callback(new Error('电话不能为空'));\n      }\n      if (/^1[34578]\\d{9}$/.test(value)) {\n        return callback();\n      }\n      callback(new Error('请输入正确的手机号码，如：13600002388'));\n    };\n\n    // 验证不为空\n    var validateEmpty = function validateEmpty(rule, value, callback) {\n      if ((typeof value === 'undefined' ? 'undefined' : __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default()(value)) !== 'object' ? !value : !value.length) {\n        return callback(new Error(rule.errMsg));\n      }\n      callback();\n    };\n    return {\n      form: {\n        name: '',\n        sex: '',\n        mobile: '',\n        store_id: '',\n        recommend_staff: '',\n        reception_staff: '',\n        visit_type: ''\n      },\n      isRecommend: false,\n      formRules: {\n        name: [{ validator: validateEmpty, errMsg: '请输入姓名', trigger: 'blur' }],\n        mobile: [{ validator: validatePhone, trigger: 'blur' }],\n        sex: [{ validator: validateEmpty, errMsg: '请选择性别', trigger: 'change' }],\n        store_id: [{ validator: validateEmpty, errMsg: '请选择门店', trigger: 'change' }],\n        recommend_staff: [{ validator: this.validateEmpty, errMsg: '请输入推荐会员', trigger: 'blur' }],\n        reception_staff: [{ validator: validateEmpty, errMsg: '请输入接待人员', trigger: 'blur' }],\n        visit_type: [{ validator: validateEmpty, errMsg: '请选择来访方式', trigger: 'change' }]\n      },\n      // 是否正在提交数据\n      isSubmit: false\n    };\n  },\n\n  computed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_vuex__[\"c\" /* mapState */])(['winsize']), {\n    labelPosition: function labelPosition() {\n      return this.winsize === 'xs' ? 'top' : 'right';\n    }\n  }),\n  methods: {\n    // 验证推荐人员\n    validateEmpty: function validateEmpty(rule, value, callback) {\n      if (!this.isRecommend) {\n        return callback();\n      }\n      if ((typeof value === 'undefined' ? 'undefined' : __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_typeof___default()(value)) !== 'object' ? !value : !value.length) {\n        return callback(new Error(rule.errMsg));\n      }\n      callback();\n    },\n    submitForm: function submitForm(formName) {\n      var _this = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          _this.onSubmit();\n        } else {\n          _this.$message.error('提交失败，请检查表单！');\n          return false;\n        }\n      });\n    },\n    onSubmit: function onSubmit() {\n      var _this2 = this;\n\n      console.log('submit!', this.form);\n      this.isSubmit = true;\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__api_visitor__[\"a\" /* record */])(this.form).then(function (response) {\n        _this2.isSubmit = false;\n        _this2.$message.success('访客登记成功');\n        console.log(response.data);\n      });\n    },\n    visitTypeChange: function visitTypeChange(value) {\n      console.log(value);\n      if (value === '4') {\n        this.isRecommend = true;\n      } else {\n        this.isRecommend = false;\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"bGJx\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  __webpack_require__(\"ApoL\")\n}\nvar Component = __webpack_require__(\"VU/8\")(\n  /* script */\n  __webpack_require__(\"OvCw\"),\n  /* template */\n  __webpack_require__(\"gk3x\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\nComponent.options.__file = \"E:\\\\gitee\\\\adminPage\\\\src\\\\views\\\\visitor\\\\record.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] record.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (false) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-779b19c6\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-779b19c6\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ \"gk3x\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"app-container visitor-record\"\n  }, [_c('el-card', {\n    staticClass: \"box-card\"\n  }, [_c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"model\": _vm.form,\n      \"rules\": _vm.formRules,\n      \"label-width\": \"150px\",\n      \"label-position\": _vm.labelPosition\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"姓名\",\n      \"prop\": \"name\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.name),\n      callback: function($$v) {\n        _vm.form.name = $$v\n      },\n      expression: \"form.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"性别\",\n      \"prop\": \"sex\"\n    }\n  }, [_c('el-radio-group', {\n    model: {\n      value: (_vm.form.sex),\n      callback: function($$v) {\n        _vm.form.sex = $$v\n      },\n      expression: \"form.sex\"\n    }\n  }, [_c('el-radio', {\n    attrs: {\n      \"label\": 1\n    }\n  }, [_vm._v(\"男\")]), _vm._v(\" \"), _c('el-radio', {\n    attrs: {\n      \"label\": 2\n    }\n  }, [_vm._v(\"女\")])], 1)], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"手机\",\n      \"prop\": \"mobile\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.mobile),\n      callback: function($$v) {\n        _vm.form.mobile = $$v\n      },\n      expression: \"form.mobile\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"来访门店\",\n      \"prop\": \"store_id\"\n    }\n  }, [_c('el-radio-group', {\n    model: {\n      value: (_vm.form.store_id),\n      callback: function($$v) {\n        _vm.form.store_id = $$v\n      },\n      expression: \"form.store_id\"\n    }\n  }, [_c('el-radio', {\n    attrs: {\n      \"label\": 2\n    }\n  }, [_vm._v(\"龙珠店\")]), _vm._v(\" \"), _c('el-radio', {\n    attrs: {\n      \"label\": 1\n    }\n  }, [_vm._v(\"海德店\")])], 1)], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"接待人员\",\n      \"prop\": \"reception_staff\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.reception_staff),\n      callback: function($$v) {\n        _vm.form.reception_staff = $$v\n      },\n      expression: \"form.reception_staff\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"来访方式\",\n      \"prop\": \"visit_type\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择来访方式\"\n    },\n    on: {\n      \"change\": _vm.visitTypeChange\n    },\n    model: {\n      value: (_vm.form.visit_type),\n      callback: function($$v) {\n        _vm.form.visit_type = $$v\n      },\n      expression: \"form.visit_type\"\n    }\n  }, [_c('el-option', {\n    attrs: {\n      \"label\": \"自访\",\n      \"value\": \"1\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"电话预约\",\n      \"value\": \"2\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"拿单页来访\",\n      \"value\": \"3\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"会员转介\",\n      \"value\": \"4\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"会籍引荐\",\n      \"value\": \"5\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-form-item', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.isRecommend),\n      expression: \"isRecommend\"\n    }],\n    attrs: {\n      \"label\": \"推荐会员\",\n      \"prop\": \"recommend_staff\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.recommend_staff),\n      callback: function($$v) {\n        _vm.form.recommend_staff = $$v\n      },\n      expression: \"form.recommend_staff\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"save\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"loading\": _vm.isSubmit\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submitForm('form')\n      }\n    }\n  }, [_vm._v(\"保存\")])], 1)], 1)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (false) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-779b19c6\", module.exports)\n  }\n}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/7.aa2e340c8ecaade25340.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-779b19c6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./record.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"000e1122\", content, false);\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-779b19c6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./record.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-779b19c6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./record.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader?{\"minimize\":false,\"sourceMap\":false}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-779b19c6\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/visitor/record.vue\n// module id = ApoL\n// module chunks = 7","import fetch from '@/utils/fetch1';\r\nconst qs = require('qs');\r\n\r\nexport function record(params) {\r\n  return fetch({\r\n    // baseURL: 'https://easy-mock.com/mock/59a44c219d8ef6191d07f0af/inwill',\r\n    url: '/api/visit/add',\r\n    method: 'post',\r\n    data: qs.stringify(params),\r\n    headers: {\r\n      'Content-Type': 'application/x-www-form-urlencoded'\r\n    }\r\n  });\r\n}\r\n\r\nexport function list(params) {\r\n  return fetch({\r\n    // baseURL: 'https://easy-mock.com/mock/59a44c219d8ef6191d07f0af/inwill',\r\n    url: '/api/visit/lists',\r\n    method: 'post',\r\n    headers: {\r\n      'Content-Type': 'application/x-www-form-urlencoded'\r\n    },\r\n    data: qs.stringify(params)\r\n  });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/visitor.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.visitor-record .el-form {\\r\\n  width: 100%;\\r\\n  max-width: 600px;\\n}\\n.visitor-record .save {\\r\\n  margin: 20px;\\r\\n  text-align: center;\\n}\\r\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":false,\"sourceMap\":false}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-779b19c6\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/visitor/record.vue\n// module id = FOfH\n// module chunks = 7","<template>\r\n    <div class=\"app-container visitor-record\">\r\n        <el-card class=\"box-card\">\r\n            <el-form ref=\"form\" :model=\"form\" :rules=\"formRules\" label-width=\"150px\" :label-position=\"labelPosition\">\r\n                <el-form-item label=\"姓名\" prop=\"name\">\r\n                    <el-input v-model=\"form.name\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"性别\" prop=\"sex\">\r\n                    <el-radio-group v-model=\"form.sex\">\r\n                      <el-radio :label=\"1\">男</el-radio>\r\n                      <el-radio :label=\"2\">女</el-radio>\r\n                    </el-radio-group>\r\n                </el-form-item>\r\n                <el-form-item label=\"手机\" prop=\"mobile\">\r\n                    <el-input v-model=\"form.mobile\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"来访门店\" prop=\"store_id\">\r\n                    <el-radio-group v-model=\"form.store_id\">\r\n                        <el-radio :label=\"2\">龙珠店</el-radio>\r\n                        <el-radio :label=\"1\">海德店</el-radio>\r\n                    </el-radio-group>\r\n                </el-form-item>\r\n                <el-form-item label=\"接待人员\" prop=\"reception_staff\">\r\n                    <el-input v-model=\"form.reception_staff\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"来访方式\" prop=\"visit_type\">\r\n                    <el-select v-model=\"form.visit_type\" placeholder=\"请选择来访方式\" @change=\"visitTypeChange\">\r\n                        <el-option label=\"自访\" value=\"1\"></el-option>\r\n                        <el-option label=\"电话预约\" value=\"2\"></el-option>\r\n                        <el-option label=\"拿单页来访\" value=\"3\"></el-option>\r\n                        <el-option label=\"会员转介\" value=\"4\"></el-option>\r\n                        <el-option label=\"会籍引荐\" value=\"5\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item v-show=\"isRecommend\" label=\"推荐会员\" prop=\"recommend_staff\">\r\n                    <el-input v-model=\"form.recommend_staff\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n        </el-card>\r\n        <div class=\"save\">\r\n            <el-button type=\"primary\" :loading=\"isSubmit\" @click=\"submitForm('form')\">保存</el-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { mapState } from 'vuex';\r\nimport { record } from '@/api/visitor';\r\nexport default {\r\n  data() {\r\n    // 验证手机号码\r\n    const validatePhone = (rule, value, callback) => {\r\n      if (!value) {\r\n        return callback(new Error('电话不能为空'));\r\n      }\r\n      if ((/^1[34578]\\d{9}$/.test(value))) {\r\n        return callback();\r\n      }\r\n      callback(new Error('请输入正确的手机号码，如：13600002388'));\r\n    }\r\n\r\n    // 验证不为空\r\n    const validateEmpty = (rule, value, callback) => {\r\n      if (typeof value !== 'object' ? !value : !value.length) {\r\n        return callback(new Error(rule.errMsg));\r\n      }\r\n      callback();\r\n    }\r\n    return {\r\n      form: {\r\n        name: '',\r\n        sex: '',\r\n        mobile: '',\r\n        store_id: '',\r\n        recommend_staff: '',\r\n        reception_staff: '',\r\n        visit_type: ''\r\n      },\r\n      isRecommend: false,\r\n      formRules: {\r\n        name: [\r\n          { validator: validateEmpty, errMsg: '请输入姓名', trigger: 'blur' }\r\n        ],\r\n        mobile: [\r\n          { validator: validatePhone, trigger: 'blur' }\r\n        ],\r\n        sex: [\r\n          { validator: validateEmpty, errMsg: '请选择性别', trigger: 'change' }\r\n        ],\r\n        store_id: [\r\n          { validator: validateEmpty, errMsg: '请选择门店', trigger: 'change' }\r\n        ],\r\n        recommend_staff: [\r\n          { validator: this.validateEmpty, errMsg: '请输入推荐会员', trigger: 'blur' }\r\n        ],\r\n        reception_staff: [\r\n          { validator: validateEmpty, errMsg: '请输入接待人员', trigger: 'blur' }\r\n        ],\r\n        visit_type: [\r\n          { validator: validateEmpty, errMsg: '请选择来访方式', trigger: 'change' }\r\n        ]\r\n      },\r\n      // 是否正在提交数据\r\n      isSubmit: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState([\r\n      'winsize'\r\n    ]),\r\n    labelPosition() {\r\n      return (this.winsize === 'xs') ? 'top' : 'right';\r\n    }\r\n  },\r\n  methods: {\r\n    // 验证推荐人员\r\n    validateEmpty(rule, value, callback) {\r\n      if (!this.isRecommend) {\r\n        return callback();\r\n      }\r\n      if (typeof value !== 'object' ? !value : !value.length) {\r\n        return callback(new Error(rule.errMsg));\r\n      }\r\n      callback();\r\n    },\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          this.onSubmit();\r\n        } else {\r\n          this.$message.error('提交失败，请检查表单！');\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    onSubmit() {\r\n      console.log('submit!', this.form);\r\n      this.isSubmit = true;\r\n      record(this.form).then(response => {\r\n        this.isSubmit = false;\r\n        this.$message.success('访客登记成功');\r\n        console.log(response.data);\r\n      });\r\n    },\r\n    visitTypeChange(value) {\r\n      console.log(value);\r\n      if (value === '4') {\r\n        this.isRecommend = true;\r\n      } else {\r\n        this.isRecommend = false;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.visitor-record .el-form {\r\n  width: 100%;\r\n  max-width: 600px;\r\n}\r\n\r\n.visitor-record .save {\r\n  margin: 20px;\r\n  text-align: center;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// record.vue?2c16af3c","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-779b19c6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./record.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./record.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-779b19c6\\\",\\\"hasScoped\\\":false}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./record.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\nComponent.options.__file = \"E:\\\\gitee\\\\adminPage\\\\src\\\\views\\\\visitor\\\\record.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] record.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-779b19c6\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-779b19c6\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/visitor/record.vue\n// module id = bGJx\n// module chunks = 7","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"app-container visitor-record\"\n  }, [_c('el-card', {\n    staticClass: \"box-card\"\n  }, [_c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"model\": _vm.form,\n      \"rules\": _vm.formRules,\n      \"label-width\": \"150px\",\n      \"label-position\": _vm.labelPosition\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"姓名\",\n      \"prop\": \"name\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.name),\n      callback: function($$v) {\n        _vm.form.name = $$v\n      },\n      expression: \"form.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"性别\",\n      \"prop\": \"sex\"\n    }\n  }, [_c('el-radio-group', {\n    model: {\n      value: (_vm.form.sex),\n      callback: function($$v) {\n        _vm.form.sex = $$v\n      },\n      expression: \"form.sex\"\n    }\n  }, [_c('el-radio', {\n    attrs: {\n      \"label\": 1\n    }\n  }, [_vm._v(\"男\")]), _vm._v(\" \"), _c('el-radio', {\n    attrs: {\n      \"label\": 2\n    }\n  }, [_vm._v(\"女\")])], 1)], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"手机\",\n      \"prop\": \"mobile\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.mobile),\n      callback: function($$v) {\n        _vm.form.mobile = $$v\n      },\n      expression: \"form.mobile\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"来访门店\",\n      \"prop\": \"store_id\"\n    }\n  }, [_c('el-radio-group', {\n    model: {\n      value: (_vm.form.store_id),\n      callback: function($$v) {\n        _vm.form.store_id = $$v\n      },\n      expression: \"form.store_id\"\n    }\n  }, [_c('el-radio', {\n    attrs: {\n      \"label\": 2\n    }\n  }, [_vm._v(\"龙珠店\")]), _vm._v(\" \"), _c('el-radio', {\n    attrs: {\n      \"label\": 1\n    }\n  }, [_vm._v(\"海德店\")])], 1)], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"接待人员\",\n      \"prop\": \"reception_staff\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.reception_staff),\n      callback: function($$v) {\n        _vm.form.reception_staff = $$v\n      },\n      expression: \"form.reception_staff\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"来访方式\",\n      \"prop\": \"visit_type\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择来访方式\"\n    },\n    on: {\n      \"change\": _vm.visitTypeChange\n    },\n    model: {\n      value: (_vm.form.visit_type),\n      callback: function($$v) {\n        _vm.form.visit_type = $$v\n      },\n      expression: \"form.visit_type\"\n    }\n  }, [_c('el-option', {\n    attrs: {\n      \"label\": \"自访\",\n      \"value\": \"1\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"电话预约\",\n      \"value\": \"2\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"拿单页来访\",\n      \"value\": \"3\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"会员转介\",\n      \"value\": \"4\"\n    }\n  }), _vm._v(\" \"), _c('el-option', {\n    attrs: {\n      \"label\": \"会籍引荐\",\n      \"value\": \"5\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-form-item', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.isRecommend),\n      expression: \"isRecommend\"\n    }],\n    attrs: {\n      \"label\": \"推荐会员\",\n      \"prop\": \"recommend_staff\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.form.recommend_staff),\n      callback: function($$v) {\n        _vm.form.recommend_staff = $$v\n      },\n      expression: \"form.recommend_staff\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"save\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"loading\": _vm.isSubmit\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submitForm('form')\n      }\n    }\n  }, [_vm._v(\"保存\")])], 1)], 1)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-779b19c6\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-779b19c6\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/visitor/record.vue\n// module id = gk3x\n// module chunks = 7"],"sourceRoot":""}