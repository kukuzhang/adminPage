{"version":3,"sources":["webpack:///static/js/2.28a997387c4ddf45ecf7.js","webpack:///./~/core-js/library/modules/core.is-iterable.js?77cc*","webpack:///./src/views/minipage/storeAlbum.vue?20fc","webpack:///./~/babel-runtime/core-js/get-iterator.js?1b08*","webpack:///./src/components/uploadPhotos/index.vue?c8f0","webpack:///storeAlbum.vue","webpack:///index.vue?7e67","webpack:///./~/core-js/library/fn/is-iterable.js?0bd2*","webpack:///./~/babel-runtime/helpers/slicedToArray.js?39c4*","webpack:///./~/core-js/library/fn/get-iterator.js?2cf7*","webpack:///./~/core-js/library/modules/core.get-iterator.js?aca7*","webpack:///./~/babel-runtime/core-js/json/stringify.js?4574","webpack:///./src/components/uploadPhotos/index.vue?fd54","webpack:///./~/core-js/library/fn/json/stringify.js?6708","webpack:///./src/views/minipage/storeAlbum.vue?3943","webpack:///./src/views/minipage/storeAlbum.vue","webpack:///./~/babel-runtime/core-js/is-iterable.js?350e*","webpack:///./src/components/uploadPhotos/index.vue?f81c","webpack:///./src/api/album.js","webpack:///./src/views/minipage/storeAlbum.vue?ed16","webpack:///./src/components/uploadPhotos/index.vue"],"names":["webpackJsonp","5PlU","module","exports","__webpack_require__","classof","ITERATOR","Iterators","isIterable","it","O","Object","undefined","hasOwnProperty","99FF","content","i","locals","BO1k","default","__esModule","CdO4","DCXW","__webpack_exports__","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_slicedToArray__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_slicedToArray___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator___default","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_extends___default","__WEBPACK_IMPORTED_MODULE_4__api_album__","__WEBPACK_IMPORTED_MODULE_5__utils__","__WEBPACK_IMPORTED_MODULE_6_vuex__","__WEBPACK_IMPORTED_MODULE_7__components_uploadPhotos_index__","__WEBPACK_IMPORTED_MODULE_7__components_uploadPhotos_index___default","__WEBPACK_IMPORTED_MODULE_8__api_member__","__WEBPACK_IMPORTED_MODULE_9__router__","components","uploadPhotos","a","data","albumInfo","isEdit","snap","isCanUpload","pic_ids_snap","pic_ids","created","this","getPhotos","computed","store","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","storeList","next","done","item","store_id","id","name","err","return","photoList","pic_dis_arr","split","arr","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","pic","entries","_ref","_ref2","index","pic_url","pic_id","isCanSubmit","title","cover_id","isCanUploadSubmit","methods","_this","params","$route","then","response","formatDateTime","time","emitFile","$refs","file","click","upload","e","_this2","target","files","param","FormData","append","cover_pic","pic_address","editBtn","JSON","parse","cancel","uploadBtn","uploadCancel","_this3","$confirm","_","catch","afterUpload","edit","_this4","$message","success","uploadSubmit","editSubmit","delAlbum","_this5","push","Kmq7","__WEBPACK_IMPORTED_MODULE_0__api_member__","__WEBPACK_IMPORTED_MODULE_2__utils__","props","type","Array","Boolean","isUploaded","prevPhotos","prevPhotoUrl","multipleFile","fileList","fileLength","length","uploadState","errorList","_i","rst","formData","photo","$forceUpdate","state","j","pic_ids_arr","map","$emit","join","error","showPrevPhotos","delPhoto","splice","Xd32","d7EF","_interopRequireDefault","obj","_isIterable2","_isIterable3","_getIterator2","_getIterator3","sliceIterator","_arr","_n","_d","_e","_s","isArray","TypeError","fxRn","g8Ux","anObject","get","getIterator","iterFn","call","mvHQ","nFXS","render","_vm","_h","$createElement","_c","_self","staticClass","on","ref","staticStyle","opacity","position","top","attrs","accept","multiple","change","_v","_l","key","src","$event","size","model","callback","$$v","expression","max-width","max-height","alt","staticRenderFns","_withStripped","qkKv","core","$JSON","stringify","apply","arguments","tc/W","placeholder","add_time","label","icon","disabled","tgDM","injectStyle","ssrContext","disposed","Component","options","__file","esModule","keys","some","substr","functional","us/S","wD52","xUx1","add","__WEBPACK_IMPORTED_MODULE_0__utils_fetch1__","url","method","qs","headers","Content-Type","lists","dlAlbum","znm1","zyxP"],"mappings":"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","file":"static/js/2.28a997387c4ddf45ecf7.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ \"5PlU\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar classof = __webpack_require__(\"RY/4\");\nvar ITERATOR = __webpack_require__(\"dSzd\")('iterator');\nvar Iterators = __webpack_require__(\"/bQp\");\nmodule.exports = __webpack_require__(\"FeBl\").isIterable = function (it) {\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    // eslint-disable-next-line no-prototype-builtins\n    || Iterators.hasOwnProperty(classof(O));\n};\n\n\n/***/ }),\n\n/***/ \"99FF\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"znm1\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"593ee8a7\", content, false);\n// Hot Module Replacement\nif(false) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e58ada48\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./storeAlbum.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e58ada48\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./storeAlbum.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ \"BO1k\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"fxRn\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"CdO4\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"wD52\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"72a4c8e2\", content, false);\n// Hot Module Replacement\nif(false) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4779aea4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4779aea4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ \"DCXW\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(\"mvHQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_slicedToArray__ = __webpack_require__(\"d7EF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_slicedToArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_slicedToArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator__ = __webpack_require__(\"BO1k\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_extends__ = __webpack_require__(\"Dd8w\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__api_album__ = __webpack_require__(\"xUx1\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils__ = __webpack_require__(\"0xDb\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_vuex__ = __webpack_require__(\"NYxO\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__components_uploadPhotos_index__ = __webpack_require__(\"zyxP\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__components_uploadPhotos_index___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__components_uploadPhotos_index__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__api_member__ = __webpack_require__(\"ocgh\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__router__ = __webpack_require__(\"YaEn\");\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  components: {\n    uploadPhotos: __WEBPACK_IMPORTED_MODULE_7__components_uploadPhotos_index___default.a\n  },\n  data: function data() {\n    return {\n      albumInfo: {},\n      isEdit: false,\n      // 快照\n      snap: null,\n      isCanUpload: false,\n      pic_ids_snap: \"\",\n      pic_ids: \"\"\n    };\n  },\n  created: function created() {\n    this.getPhotos();\n  },\n\n  computed: __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6_vuex__[\"b\" /* mapGetters */])([\"storeList\"]), {\n    store: function store() {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator___default()(this.storeList), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var item = _step.value;\n\n          if (this.albumInfo.store_id == item.id) {\n            return item.name;\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    },\n    photoList: function photoList() {\n      if (this.albumInfo && this.albumInfo.pic_ids) {\n        var pic_dis_arr = this.albumInfo.pic_ids.split(\",\");\n        var arr = [];\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator___default()(this.albumInfo.pic.entries()), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var _ref = _step2.value;\n\n            var _ref2 = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_slicedToArray___default()(_ref, 2);\n\n            var index = _ref2[0];\n            var value = _ref2[1];\n\n            arr[index] = {\n              pic_url: \"http://\" + value,\n              pic_id: pic_dis_arr[index]\n            };\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n\n        return arr;\n      } else {\n        return [];\n      }\n    },\n\n    // 确认按钮是否点亮\n    isCanSubmit: function isCanSubmit() {\n      return this.albumInfo.title !== this.snap.title || this.albumInfo.store_id !== this.snap.store_id || this.albumInfo.cover_id !== this.snap.cover_id;\n    },\n    isCanUploadSubmit: function isCanUploadSubmit() {\n      return this.pic_ids !== this.snap.pic_ids;\n    }\n  }),\n  methods: {\n    getPhotos: function getPhotos() {\n      var _this = this;\n\n      var params = {\n        id: this.$route.params.id\n      };\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__api_album__[\"d\" /* getPhotos */])(params).then(function (response) {\n        _this.albumInfo = response.data;\n        console.log(_this.albumInfo);\n        console.log(_this.photoList);\n      });\n    },\n    formatDateTime: function formatDateTime(time) {\n      return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__utils__[\"a\" /* formatDateTime */])(time);\n    },\n    emitFile: function emitFile() {\n      this.$refs.file.click();\n    },\n    upload: function upload(e) {\n      var _this2 = this;\n\n      // 参考：http://www.cnblogs.com/cjh1111/p/7017295.html\n      var file = e.target.files[0];\n      var param = new FormData(); //创建form对象\n      param.append(\"image\", file, file.name); //通过append向form对象添加数据\n      param.append(\"chunk\", \"0\"); //添加form表单中其他数据\n      // console.log(param.get('file')); //FormData私有类对象，访问不到，可以通过get判断值是否传进去\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__api_member__[\"c\" /* upload */])(param).then(function (response) {\n        _this2.albumInfo.cover_pic = response.data.pic_address;\n        _this2.albumInfo.cover_id = response.data.pic_id;\n      });\n    },\n    editBtn: function editBtn() {\n      this.isEdit = true;\n      // 设置快照\n      this.snap = JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.albumInfo));\n    },\n    cancel: function cancel() {\n      this.isEdit = false;\n      this.albumInfo = JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.snap));\n    },\n    uploadBtn: function uploadBtn() {\n      this.isCanUpload = true;\n      /* // 设置快照\r\n      this.pic_ids_snap = this.albumInfo.pic_ids; */\n      this.pic_ids = this.albumInfo.pic_ids;\n      // 设置快照\n      this.snap = JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.albumInfo));\n    },\n    uploadCancel: function uploadCancel() {\n      var _this3 = this;\n\n      if (this.isCanUploadSubmit) {\n        this.$confirm(\"尚未保存，确定取消？\").then(function (_) {\n          _this3.isCanUpload = false;\n          _this3.albumInfo = JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(_this3.snap));\n        }).catch(function (_) {});\n      } else {\n        this.isCanUpload = false;\n      }\n    },\n\n    // 上传之后触发\n    afterUpload: function afterUpload(pic_ids) {\n      // this.albumInfo.pic_ids = pic_ids; // 直接赋值给他，就算是强制刷新也没办法更新dom\n      this.pic_ids = pic_ids;\n    },\n\n    // 更新编辑\n    edit: function edit(params) {\n      var _this4 = this;\n\n      console.log(params);\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__api_album__[\"e\" /* edit */])(params).then(function (response) {\n        _this4.$message.success('更新相册成功');\n        _this4.getPhotos();\n      });\n    },\n\n    // 上传图片确定\n    uploadSubmit: function uploadSubmit() {\n      var params = {\n        id: this.albumInfo.id,\n        pic_ids: this.pic_ids\n      };\n      this.edit(params);\n      this.isCanUpload = false;\n    },\n\n    // 修改信息提脚\n    editSubmit: function editSubmit() {\n      var params = {\n        id: this.albumInfo.id,\n        title: this.albumInfo.title,\n        store_id: this.albumInfo.store_id,\n        cover_id: this.albumInfo.cover_id\n      };\n      this.edit(params);\n      this.isEdit = false;\n    },\n\n    // 删除相册\n    delAlbum: function delAlbum(id, title) {\n      var _this5 = this;\n\n      this.$confirm(\"确定删除相册《\" + title + \"》？\").then(function (_) {\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__api_album__[\"c\" /* dlAlbum */])({ id: id }).then(function (response) {\n          _this5.$message.success('删除相册成功');\n          __WEBPACK_IMPORTED_MODULE_9__router__[\"a\" /* default */].push({ name: \"门店展示\" });\n        });\n      }).catch(function (_) {});\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"Kmq7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__api_member__ = __webpack_require__(\"ocgh\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils__ = __webpack_require__(\"0xDb\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  props: {\n    photoList: {\n      type: Array\n    },\n    isCanUpload: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      isUploaded: false,\n      prevPhotos: false,\n      prevPhotoUrl: \"\"\n    };\n  },\n\n  methods: {\n    emitFile: function emitFile() {\n      this.$refs.multipleFile.click();\n    },\n    uploadPhotos: function uploadPhotos(e) {\n      var _this = this;\n\n      // 文件列表\n      var fileList = e.target.files;\n      var fileLength = fileList.length;\n      // 上传状态\n      var uploadState = [];\n      for (var i = 0; i < fileLength; i++) {\n        uploadState[i] = false;\n      }\n\n      var errorList = [];\n\n      var _loop = function _loop(_i) {\n        // 模拟请求\n        /* let num = Math.random() * 700 + 800;\r\n        num = parseInt(num, 10);\r\n        setTimeout(function() {\r\n          _this.uploadState[i] = true;\r\n          _this.photoList[i] = i;\r\n          let state = true;\r\n          for (let j = 0; j < length; j++) {\r\n            if (!_this.uploadState[j]) {\r\n              state = false;\r\n              break;\r\n            }\r\n          }\r\n          if (state) {\r\n            console.log(\"全部上传完了\", _this.uploadState, _this.photoList);\r\n          } else {\r\n            console.log(\"第 \" + i + \" 张图片上传完了\");\r\n          }\r\n        }, num); */\n\n        var file = fileList[_i];\n\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__utils__[\"b\" /* imgBeforeUpload */])(file).then(function (rst) {\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__api_member__[\"c\" /* upload */])(rst.formData).then(function (response) {\n            uploadState[_i] = true;\n            var photo = {\n              pic_url: \"http://\" + response.data.pic_address,\n              pic_id: response.data.pic_id\n            };\n            _this.photoList.push(photo);\n            // this.photoList.$set(this.photoList.length, photo);\n            // Vue.set(this.photoList, this.photoList.length, photo)\n            // this.photoList.splice(this.photoList.length, 1, photo)\n            // 强制重新渲染整个列表\n            _this.$forceUpdate();\n\n            // 判断是否全部上传完\n            var state = true;\n            for (var j = 0; j < fileLength; j++) {\n              if (!uploadState[j]) {\n                state = false;\n                break;\n              }\n            }\n            if (state) {\n              _this.isUploaded = true;\n              var pic_ids_arr = _this.photoList.map(function (photo) {\n                return photo.pic_id;\n              });\n              _this.$emit(\"afterUpload\", pic_ids_arr.join(\",\"));\n              console.log(\"第 \" + _i + \" 张图片上传完了\");\n              console.log(\"全部上传完了\", uploadState, _this.photoList, _this.isUploaded);\n              if (errorList.length) {\n                _this.$message.error(\"第\" + errorList.join(\", \") + \"张图片出错，可能原因是图片大于5MB！\");\n              }\n            } else {\n              console.log(\"第 \" + _i + \" 张图片上传完了\");\n            }\n          });\n        }).catch(function (err) {\n          uploadState[_i] = true;\n          errorList.push(_i + 1);\n          // 判断是否全部上传完\n          var state = true;\n          for (var j = 0; j < fileLength; j++) {\n            if (!uploadState[j]) {\n              state = false;\n              break;\n            }\n          }\n          if (state) {\n            _this.isUploaded = true;\n            var pic_ids_arr = _this.photoList.map(function (photo) {\n              return photo.pic_id;\n            });\n            _this.$emit(\"afterUpload\", pic_ids_arr.join(\",\"));\n            console.log(\"第 \" + _i + \" 张图片上传完了\");\n            console.log(\"全部上传完了\", uploadState, _this.photoList, _this.isUploaded);\n            if (errorList.length) {\n              _this.$message.error(\"第\" + errorList.join(\", \") + \"张图片出错，可能原因是图片大于5MB！\");\n            }\n          } else {\n            console.log(\"第 \" + _i + \" 张图片上传完了\");\n          }\n        });\n      };\n\n      for (var _i = 0; _i < fileLength; _i++) {\n        _loop(_i);\n      }\n    },\n    showPrevPhotos: function showPrevPhotos(pic_url) {\n      this.prevPhotos = true;\n      this.prevPhotoUrl = pic_url;\n    },\n    delPhoto: function delPhoto(index) {\n      this.photoList.splice(index, 1);\n      var pic_ids_arr = this.photoList.map(function (photo) {\n        return photo.pic_id;\n      });\n      this.$emit(\"afterUpload\", pic_ids_arr.join(\",\"));\n      // 强制重新渲染整个列表\n      this.$forceUpdate();\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"Xd32\":\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"+tPU\");\n__webpack_require__(\"zQR9\");\nmodule.exports = __webpack_require__(\"5PlU\");\n\n\n/***/ }),\n\n/***/ \"d7EF\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _isIterable2 = __webpack_require__(\"us/S\");\n\nvar _isIterable3 = _interopRequireDefault(_isIterable2);\n\nvar _getIterator2 = __webpack_require__(\"BO1k\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if ((0, _isIterable3.default)(Object(arr))) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n/***/ }),\n\n/***/ \"fxRn\":\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"+tPU\");\n__webpack_require__(\"zQR9\");\nmodule.exports = __webpack_require__(\"g8Ux\");\n\n\n/***/ }),\n\n/***/ \"g8Ux\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar anObject = __webpack_require__(\"77Pl\");\nvar get = __webpack_require__(\"3fs2\");\nmodule.exports = __webpack_require__(\"FeBl\").getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n/***/ }),\n\n/***/ \"mvHQ\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"qkKv\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"nFXS\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"upload-photos\"\n  }, [_c('div', {\n    staticClass: \"upload-body\"\n  }, [(_vm.isCanUpload) ? _c('div', {\n    staticClass: \"cover-uploader\",\n    on: {\n      \"click\": _vm.emitFile\n    }\n  }, [_c('input', {\n    ref: \"multipleFile\",\n    staticStyle: {\n      \"opacity\": \"0\",\n      \"position\": \"fixed\",\n      \"top\": \"-1000px\"\n    },\n    attrs: {\n      \"type\": \"file\",\n      \"accept\": \"image/*\",\n      \"multiple\": \"multiple\"\n    },\n    on: {\n      \"change\": _vm.uploadPhotos\n    }\n  }), _vm._v(\" \"), _c('i', {\n    staticClass: \"el-icon-plus cover-uploader-icon\"\n  })]) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.photoList), function(photo, index) {\n    return _c('div', {\n      key: photo.pic_id,\n      staticClass: \"cover-uploader\"\n    }, [_c('img', {\n      staticClass: \"cover-img\",\n      attrs: {\n        \"src\": photo.pic_url\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"cover-uploader-op\"\n    }, [_c('i', {\n      staticClass: \"el-icon-view\",\n      on: {\n        \"click\": function($event) {\n          _vm.showPrevPhotos(photo.pic_url)\n        }\n      }\n    }), _vm._v(\" \"), (_vm.isCanUpload) ? _c('i', {\n      staticClass: \"el-icon-delete\",\n      on: {\n        \"click\": function($event) {\n          _vm.delPhoto(index)\n        }\n      }\n    }) : _vm._e()])])\n  }), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"size\": \"large\"\n    },\n    model: {\n      value: (_vm.prevPhotos),\n      callback: function($$v) {\n        _vm.prevPhotos = $$v\n      },\n      expression: \"prevPhotos\"\n    }\n  }, [_c('img', {\n    staticStyle: {\n      \"max-width\": \"100%\",\n      \"max-height\": \"100%\"\n    },\n    attrs: {\n      \"src\": _vm.prevPhotoUrl,\n      \"alt\": \"\"\n    }\n  })])], 2)])\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (false) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-4779aea4\", module.exports)\n  }\n}\n\n/***/ }),\n\n/***/ \"qkKv\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar core = __webpack_require__(\"FeBl\");\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n/***/ }),\n\n/***/ \"tc/W\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"app-container store-album\"\n  }, [_c('div', {\n    staticClass: \"header\"\n  }, [_c('div', {\n    staticClass: \"album-info\"\n  }, [(!_vm.isEdit) ? _c('img', {\n    staticClass: \"cover\",\n    attrs: {\n      \"src\": _vm.albumInfo.cover_pic ? 'http://' + _vm.albumInfo.cover_pic : ''\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.isEdit) ? _c('div', {\n    staticClass: \"cover-uploader\",\n    on: {\n      \"click\": _vm.emitFile\n    }\n  }, [_c('input', {\n    ref: \"file\",\n    staticStyle: {\n      \"opacity\": \"0\",\n      \"position\": \"fixed\",\n      \"top\": \"-1000px\"\n    },\n    attrs: {\n      \"type\": \"file\",\n      \"accept\": \"image/*\"\n    },\n    on: {\n      \"change\": _vm.upload\n    }\n  }), _vm._v(\" \"), (_vm.albumInfo.cover_pic) ? _c('img', {\n    staticClass: \"cover-img\",\n    attrs: {\n      \"src\": _vm.albumInfo.cover_pic ? 'http://' + _vm.albumInfo.cover_pic : ''\n    }\n  }) : _vm._e()]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"info\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [(!_vm.isEdit) ? _c('span', [_vm._v(_vm._s(_vm.albumInfo.title))]) : _vm._e(), (_vm.isEdit) ? _c('el-input', {\n    attrs: {\n      \"placeholder\": \"请输入内容\"\n    },\n    model: {\n      value: (_vm.albumInfo.title),\n      callback: function($$v) {\n        _vm.albumInfo.title = $$v\n      },\n      expression: \"albumInfo.title\"\n    }\n  }) : _vm._e()], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"desc\"\n  }, [(!_vm.isEdit) ? _c('div', {\n    staticClass: \"store\"\n  }, [_vm._v(\"门店：\" + _vm._s(_vm.store))]) : _vm._e(), _vm._v(\" \"), (!_vm.isEdit) ? _c('div', {\n    staticClass: \"add-time\"\n  }, [_vm._v(\"创建于：\" + _vm._s(_vm.formatDateTime(_vm.albumInfo.add_time)))]) : _vm._e(), _vm._v(\" \"), (_vm.isEdit) ? _c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择\"\n    },\n    model: {\n      value: (_vm.albumInfo.store_id),\n      callback: function($$v) {\n        _vm.albumInfo.store_id = $$v\n      },\n      expression: \"albumInfo.store_id\"\n    }\n  }, _vm._l((_vm.storeList), function(item) {\n    return _c('el-option', {\n      key: item.id,\n      attrs: {\n        \"label\": item.name,\n        \"value\": item.id\n      }\n    })\n  })) : _vm._e()], 1)])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"btn-op\"\n  }, [(!_vm.isEdit) ? _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"icon\": \"edit\"\n    },\n    on: {\n      \"click\": _vm.editBtn\n    }\n  }, [_vm._v(\"修改\")]) : _vm._e(), _vm._v(\" \"), (!_vm.isEdit) ? _c('el-button', {\n    attrs: {\n      \"type\": \"danger\",\n      \"icon\": \"delete\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.delAlbum(_vm.albumInfo.id, _vm.albumInfo.title)\n      }\n    }\n  }, [_vm._v(\"删除\")]) : _vm._e(), _vm._v(\" \"), (_vm.isEdit) ? _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"disabled\": !_vm.isCanSubmit\n    },\n    on: {\n      \"click\": _vm.editSubmit\n    }\n  }, [_vm._v(\"确认\")]) : _vm._e(), _vm._v(\" \"), (_vm.isEdit) ? _c('el-button', {\n    on: {\n      \"click\": _vm.cancel\n    }\n  }, [_vm._v(\"取消\")]) : _vm._e()], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"btn-upload\"\n  }, [(!_vm.isCanUpload) ? _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.uploadBtn\n    }\n  }, [_vm._v(\"编辑图片\")]) : _vm._e(), _vm._v(\" \"), (_vm.isCanUpload) ? _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"disabled\": !_vm.isCanUploadSubmit\n    },\n    on: {\n      \"click\": _vm.uploadSubmit\n    }\n  }, [_vm._v(\"确认\")]) : _vm._e(), _vm._v(\" \"), (_vm.isCanUpload) ? _c('el-button', {\n    on: {\n      \"click\": _vm.uploadCancel\n    }\n  }, [_vm._v(\"取消\")]) : _vm._e()], 1), _vm._v(\" \"), _c('upload-photos', {\n    attrs: {\n      \"photoList\": _vm.photoList,\n      \"isCanUpload\": _vm.isCanUpload\n    },\n    on: {\n      \"afterUpload\": _vm.afterUpload\n    }\n  })], 1)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (false) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-e58ada48\", module.exports)\n  }\n}\n\n/***/ }),\n\n/***/ \"tgDM\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  __webpack_require__(\"99FF\")\n}\nvar Component = __webpack_require__(\"VU/8\")(\n  /* script */\n  __webpack_require__(\"DCXW\"),\n  /* template */\n  __webpack_require__(\"tc/W\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\nComponent.options.__file = \"E:\\\\gitee\\\\adminPage\\\\src\\\\views\\\\minipage\\\\storeAlbum.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] storeAlbum.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (false) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-e58ada48\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-e58ada48\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ \"us/S\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"Xd32\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"wD52\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(false);\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.cover-uploader {\\n  display: inline-block;\\n  width: 120px;\\n  height: 120px;\\n  border: 1px dashed #d9d9d9;\\n  border-radius: 6px;\\n  cursor: pointer;\\n  position: relative;\\n  overflow: hidden;\\n  margin: 10px;\\n}\\n.cover-uploader:hover {\\n  border-color: #20a0ff;\\n}\\n.cover-uploader:hover .cover-uploader-op {\\n    opacity: 1;\\n}\\n.cover-uploader-icon {\\n  font-size: 28px;\\n  color: #8c939d;\\n  width: 120px;\\n  height: 120px;\\n  line-height: 120px;\\n  text-align: center;\\n}\\n.cover-uploader-op {\\n  opacity: 0;\\n  transition: opacity 0.3s;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  font-size: 20px;\\n  color: #fff;\\n  width: 120px;\\n  height: 120px;\\n  line-height: 120px;\\n  text-align: center;\\n  background: rgba(0, 0, 0, 0.3);\\n}\\n.cover-img {\\n  width: 120px;\\n  height: 120px;\\n  display: block;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\n.upload-photos {\\n  margin-bottom: 20px;\\n}\\n.upload-photos .upload-body {\\n    padding: 10px;\\n    border: 1px solid #bfcbd9;\\n    font-size: 0;\\n}\\n.upload-photos .el-dialog__body {\\n    text-align: center;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"xUx1\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = add;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = lists;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = dlAlbum;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = getPhotos;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = edit;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_fetch1__ = __webpack_require__(\"k97f\");\n\nvar qs = __webpack_require__(\"mw3O\");\n\nfunction add(params) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch1__[\"a\" /* default */])({\n        url: '/api/album/add',\n        method: 'post',\n        data: qs.stringify(params),\n        headers: {\n            'Content-Type': 'application/x-www-form-urlencoded'\n        }\n    });\n}\n\nfunction lists(params) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch1__[\"a\" /* default */])({\n        url: '/api/album/lists',\n        method: 'post',\n        data: qs.stringify(params),\n        headers: {\n            'Content-Type': 'application/x-www-form-urlencoded'\n        }\n    });\n}\n\nfunction dlAlbum(params) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch1__[\"a\" /* default */])({\n        url: '/api/album/delete',\n        method: 'post',\n        data: qs.stringify(params),\n        headers: {\n            'Content-Type': 'application/x-www-form-urlencoded'\n        }\n    });\n}\n\n// 获取单个相册\nfunction getPhotos(params) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch1__[\"a\" /* default */])({\n        url: '/api/album/info',\n        method: 'post',\n        data: qs.stringify(params),\n        headers: {\n            'Content-Type': 'application/x-www-form-urlencoded'\n        }\n    });\n}\n\nfunction edit(params) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch1__[\"a\" /* default */])({\n        url: '/api/album/edit',\n        method: 'post',\n        data: qs.stringify(params),\n        headers: {\n            'Content-Type': 'application/x-www-form-urlencoded'\n        }\n    });\n}\n\n/***/ }),\n\n/***/ \"znm1\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(false);\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.store-album .header {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: end;\\n      -ms-flex-align: end;\\n          align-items: flex-end;\\n  -webkit-box-pack: justify;\\n      -ms-flex-pack: justify;\\n          justify-content: space-between;\\n  background: #fff;\\n  padding: 20px;\\n  border: 1px solid #e3e8f0;\\n  margin-bottom: 20px;\\n}\\n.store-album .header .album-info {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-pack: start;\\n        -ms-flex-pack: start;\\n            justify-content: flex-start;\\n    font-size: 20px;\\n    line-height: 2;\\n}\\n.store-album .header .album-info .cover {\\n      width: 80px;\\n      height: 80px;\\n      margin-right: 20px;\\n      -o-object-fit: cover;\\n         object-fit: cover;\\n}\\n.store-album .header .album-info .cover-uploader {\\n      width: 80px;\\n      height: 80px;\\n      border: 1px dashed #d9d9d9;\\n      border-radius: 6px;\\n      cursor: pointer;\\n      position: relative;\\n      overflow: hidden;\\n      margin: 0;\\n      margin-right: 20px;\\n}\\n.store-album .header .album-info .cover-uploader:hover {\\n      border-color: #20a0ff;\\n}\\n.store-album .header .album-info .cover-img {\\n      width: 80px;\\n      height: 80px;\\n      display: block;\\n}\\n.store-album .header .album-info .info .title {\\n      margin-bottom: 10px;\\n}\\n.store-album .header .album-info .info .desc {\\n      display: -webkit-box;\\n      display: -ms-flexbox;\\n      display: flex;\\n      -webkit-box-pack: start;\\n          -ms-flex-pack: start;\\n              justify-content: flex-start;\\n      font-size: 14px;\\n      color: #99a9bf;\\n}\\n.store-album .header .album-info .info .desc > *:not(:first-child):before {\\n        content: \\\"/\\\";\\n        padding: 0 0.5em;\\n}\\n.store-album .upload-photos {\\n  background: #fff;\\n}\\n.store-album .btn-upload {\\n  padding: 10px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"zyxP\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  __webpack_require__(\"CdO4\")\n}\nvar Component = __webpack_require__(\"VU/8\")(\n  /* script */\n  __webpack_require__(\"Kmq7\"),\n  /* template */\n  __webpack_require__(\"nFXS\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\nComponent.options.__file = \"E:\\\\gitee\\\\adminPage\\\\src\\\\components\\\\uploadPhotos\\\\index.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] index.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (false) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-4779aea4\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-4779aea4\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nmodule.exports = Component.exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/2.28a997387c4ddf45ecf7.js","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').isIterable = function (it) {\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    // eslint-disable-next-line no-prototype-builtins\n    || Iterators.hasOwnProperty(classof(O));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/core.is-iterable.js\n// module id = 5PlU\n// module chunks = 0 1 2","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e58ada48\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./storeAlbum.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"593ee8a7\", content, false);\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e58ada48\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./storeAlbum.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e58ada48\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./storeAlbum.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader?{\"minimize\":false,\"sourceMap\":false}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-e58ada48\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/minipage/storeAlbum.vue\n// module id = 99FF\n// module chunks = 2","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/get-iterator.js\n// module id = BO1k\n// module chunks = 0 1 2 3","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4779aea4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"72a4c8e2\", content, false);\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4779aea4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4779aea4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader?{\"minimize\":false,\"sourceMap\":false}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4779aea4\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/uploadPhotos/index.vue\n// module id = CdO4\n// module chunks = 2 3","<template>\r\n  <div class=\"app-container store-album\">\r\n    <div class=\"header\">\r\n        <div class=\"album-info\">\r\n          <img v-if=\"!isEdit\" class=\"cover\" :src=\"albumInfo.cover_pic ? 'http://' + albumInfo.cover_pic : ''\">\r\n          <div v-if=\"isEdit\" class=\"cover-uploader\" @click=\"emitFile\">\r\n              <input ref=\"file\" type=\"file\" accept=\"image/*\" style=\"opacity: 0; position: fixed; top: -1000px;\" @change=\"upload\">\r\n              <img v-if=\"albumInfo.cover_pic\" :src=\"albumInfo.cover_pic ? 'http://' + albumInfo.cover_pic : ''\" class=\"cover-img\">\r\n          </div>\r\n          <div class=\"info\">\r\n            <div class=\"title\"><span v-if=\"!isEdit\">{{ albumInfo.title }}</span><el-input v-if=\"isEdit\" v-model=\"albumInfo.title\" placeholder=\"请输入内容\"></el-input></div>\r\n            <div class=\"desc\">\r\n              <div class=\"store\" v-if=\"!isEdit\">门店：{{ store }}</div>\r\n              <div class=\"add-time\" v-if=\"!isEdit\">创建于：{{ formatDateTime(albumInfo.add_time) }}</div>\r\n              <el-select v-if=\"isEdit\" v-model=\"albumInfo.store_id\" placeholder=\"请选择\">\r\n                <el-option\r\n                  v-for=\"item in storeList\"\r\n                  :key=\"item.id\"\r\n                  :label=\"item.name\"\r\n                  :value=\"item.id\">\r\n                </el-option>\r\n              </el-select>           \r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"btn-op\">\r\n            <el-button v-if=\"!isEdit\" type=\"primary\" icon=\"edit\" @click=\"editBtn\">修改</el-button>\r\n            <el-button v-if=\"!isEdit\" type=\"danger\" icon=\"delete\" @click=\"delAlbum(albumInfo.id, albumInfo.title)\">删除</el-button>\r\n            <el-button v-if=\"isEdit\" type=\"primary\" :disabled=\"!isCanSubmit\" @click=\"editSubmit\">确认</el-button>\r\n            <el-button v-if=\"isEdit\" @click=\"cancel\">取消</el-button>\r\n        </div>\r\n    </div>\r\n    <div class=\"btn-upload\">\r\n        <el-button v-if=\"!isCanUpload\" type=\"primary\" @click=\"uploadBtn\">编辑图片</el-button>\r\n        <el-button v-if=\"isCanUpload\" type=\"primary\" :disabled=\"!isCanUploadSubmit\" @click=\"uploadSubmit\">确认</el-button>\r\n        <el-button v-if=\"isCanUpload\" @click=\"uploadCancel\">取消</el-button>\r\n    </div>\r\n    <upload-photos :photoList=\"photoList\" :isCanUpload=\"isCanUpload\" @afterUpload=\"afterUpload\"></upload-photos>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getPhotos, edit, dlAlbum } from \"@/api/album\";\r\nimport { formatDateTime } from \"@/utils\";\r\nimport { mapGetters } from \"vuex\";\r\nimport uploadPhotos from \"@/components/uploadPhotos/index\";\r\nimport { upload } from \"@/api/member\";\r\nimport router from \"../../router\";\r\n\r\nexport default {\r\n  components: {\r\n    uploadPhotos\r\n  },\r\n  data() {\r\n    return {\r\n      albumInfo: {},\r\n      isEdit: false,\r\n      // 快照\r\n      snap: null,\r\n      isCanUpload: false,\r\n      pic_ids_snap: \"\",\r\n      pic_ids: \"\"\r\n    };\r\n  },\r\n  created() {\r\n    this.getPhotos();\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"storeList\"]),\r\n    store() {\r\n      for (let item of this.storeList) {\r\n        if (this.albumInfo.store_id == item.id) {\r\n          return item.name;\r\n        }\r\n      }\r\n    },\r\n    photoList() {\r\n      if (this.albumInfo && this.albumInfo.pic_ids) {\r\n        let pic_dis_arr = this.albumInfo.pic_ids.split(\",\");\r\n        let arr = [];\r\n        for (let [index, value] of this.albumInfo.pic.entries()) {\r\n          arr[index] = {\r\n            pic_url: \"http://\" + value,\r\n            pic_id: pic_dis_arr[index]\r\n          };\r\n        }\r\n        return arr;\r\n      } else {\r\n        return [];\r\n      }\r\n    },\r\n    // 确认按钮是否点亮\r\n    isCanSubmit() {\r\n      return (\r\n        this.albumInfo.title !== this.snap.title ||\r\n        this.albumInfo.store_id !== this.snap.store_id ||\r\n        this.albumInfo.cover_id !== this.snap.cover_id\r\n      );\r\n    },\r\n    isCanUploadSubmit() {\r\n      return this.pic_ids !== this.snap.pic_ids;\r\n    }\r\n  },\r\n  methods: {\r\n    getPhotos() {\r\n      let params = {\r\n        id: this.$route.params.id\r\n      };\r\n      getPhotos(params).then(response => {\r\n        this.albumInfo = response.data;\r\n        console.log(this.albumInfo);\r\n        console.log(this.photoList);\r\n      });\r\n    },\r\n    formatDateTime(time) {\r\n      return formatDateTime(time);\r\n    },\r\n    emitFile() {\r\n      this.$refs.file.click();\r\n    },\r\n    upload(e) {\r\n      // 参考：http://www.cnblogs.com/cjh1111/p/7017295.html\r\n      let file = e.target.files[0];\r\n      let param = new FormData(); //创建form对象\r\n      param.append(\"image\", file, file.name); //通过append向form对象添加数据\r\n      param.append(\"chunk\", \"0\"); //添加form表单中其他数据\r\n      // console.log(param.get('file')); //FormData私有类对象，访问不到，可以通过get判断值是否传进去\r\n      upload(param).then(response => {\r\n        this.albumInfo.cover_pic = response.data.pic_address;\r\n        this.albumInfo.cover_id = response.data.pic_id;\r\n      });\r\n    },\r\n    editBtn() {\r\n      this.isEdit = true;\r\n      // 设置快照\r\n      this.snap = JSON.parse(JSON.stringify(this.albumInfo));\r\n    },\r\n    cancel() {\r\n      this.isEdit = false;\r\n      this.albumInfo = JSON.parse(JSON.stringify(this.snap));\r\n    },\r\n    uploadBtn() {\r\n      this.isCanUpload = true;\r\n      /* // 设置快照\r\n      this.pic_ids_snap = this.albumInfo.pic_ids; */\r\n      this.pic_ids = this.albumInfo.pic_ids;\r\n      // 设置快照\r\n      this.snap = JSON.parse(JSON.stringify(this.albumInfo));\r\n    },\r\n    uploadCancel() {\r\n      if (this.isCanUploadSubmit) {\r\n        this.$confirm(\"尚未保存，确定取消？\")\r\n          .then(_ => {\r\n            this.isCanUpload = false;\r\n            this.albumInfo = JSON.parse(JSON.stringify(this.snap));\r\n          })\r\n          .catch(_ => {});\r\n      } else {\r\n        this.isCanUpload = false;\r\n      }\r\n    },\r\n    // 上传之后触发\r\n    afterUpload(pic_ids) {\r\n      // this.albumInfo.pic_ids = pic_ids; // 直接赋值给他，就算是强制刷新也没办法更新dom\r\n      this.pic_ids = pic_ids;\r\n    },\r\n    // 更新编辑\r\n    edit(params) {\r\n      console.log(params);\r\n      edit(params).then(response => {\r\n        this.$message.success('更新相册成功');\r\n        this.getPhotos();\r\n      })\r\n    },\r\n    // 上传图片确定\r\n    uploadSubmit() {\r\n      let params = {\r\n        id: this.albumInfo.id,\r\n        pic_ids: this.pic_ids\r\n      }\r\n      this.edit(params);\r\n      this.isCanUpload = false;\r\n    },\r\n    // 修改信息提脚\r\n    editSubmit() {\r\n      let params = {\r\n        id: this.albumInfo.id,\r\n        title: this.albumInfo.title,\r\n        store_id: this.albumInfo.store_id,\r\n        cover_id: this.albumInfo.cover_id\r\n      }\r\n      this.edit(params);\r\n      this.isEdit = false;\r\n    },\r\n    // 删除相册\r\n    delAlbum(id, title) {\r\n      this.$confirm(\"确定删除相册《\" + title + \"》？\")\r\n        .then(_ => {\r\n          dlAlbum({ id }).then(response => {\r\n            this.$message.success('删除相册成功');\r\n            router.push({ name: \"门店展示\"});\r\n          });\r\n        })\r\n        .catch(_ => {});\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.store-album {\r\n  .header {\r\n    display: flex;\r\n    align-items: flex-end;\r\n    justify-content: space-between;\r\n    background: #fff;\r\n    padding: 20px;\r\n    border: 1px solid #e3e8f0;\r\n    margin-bottom: 20px;\r\n    .album-info {\r\n      display: flex;\r\n      justify-content: flex-start;\r\n      font-size: 20px;\r\n      line-height: 2;\r\n      .cover {\r\n        width: 80px;\r\n        height: 80px;\r\n        margin-right: 20px;\r\n        object-fit: cover;\r\n      }\r\n      .cover-uploader {\r\n        width: 80px;\r\n        height: 80px;\r\n        border: 1px dashed #d9d9d9;\r\n        border-radius: 6px;\r\n        cursor: pointer;\r\n        position: relative;\r\n        overflow: hidden;\r\n        margin: 0;\r\n        margin-right: 20px;\r\n      }\r\n      .cover-uploader:hover {\r\n        border-color: #20a0ff;\r\n      }\r\n      .cover-img {\r\n        width: 80px;\r\n        height: 80px;\r\n        display: block;\r\n      }\r\n      .info {\r\n        .title {\r\n          margin-bottom: 10px;\r\n        }\r\n        .desc {\r\n          display: flex;\r\n          justify-content: flex-start;\r\n          font-size: 14px;\r\n          color: #99a9bf;\r\n          > *:not(:first-child):before {\r\n            content: \"/\";\r\n            padding: 0 0.5em;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .upload-photos {\r\n    background: #fff;\r\n  }\r\n  .btn-upload {\r\n    padding: 10px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// storeAlbum.vue?9638fc48","<template>\r\n  <div class=\"upload-photos\">\r\n    <div class=\"upload-body\">\r\n    <div v-if=\"isCanUpload\" class=\"cover-uploader\" @click=\"emitFile\">\r\n        <input ref=\"multipleFile\" type=\"file\" accept=\"image/*\" style=\"opacity: 0; position: fixed; top: -1000px;\" multiple=\"multiple\" @change=\"uploadPhotos\">\r\n        <i class=\"el-icon-plus cover-uploader-icon\"></i>\r\n    </div>\r\n    <div class=\"cover-uploader\" v-for=\"(photo, index) in photoList\" :key=\"photo.pic_id\">\r\n        <img :src=\"photo.pic_url\" class=\"cover-img\">\r\n        <div class=\"cover-uploader-op\">\r\n          <i class=\"el-icon-view\" @click=\"showPrevPhotos(photo.pic_url)\"></i> \r\n          <i class=\"el-icon-delete\" v-if=\"isCanUpload\" @click=\"delPhoto(index)\"></i>          \r\n        </div>\r\n    </div>\r\n    <el-dialog v-model=\"prevPhotos\" size=\"large\">\r\n      <img style=\"max-width: 100%; max-height: 100%;\" :src=\"prevPhotoUrl\" alt=\"\">\r\n    </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { upload } from \"@/api/member\";\r\nimport Vue from \"vue\";\r\nimport { imgBeforeUpload } from \"@/utils\";\r\n\r\nexport default {\r\n  props: {\r\n    photoList: {\r\n      type: Array\r\n    },\r\n    isCanUpload: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isUploaded: false,\r\n      prevPhotos: false,\r\n      prevPhotoUrl: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    emitFile() {\r\n      this.$refs.multipleFile.click();\r\n    },\r\n    uploadPhotos(e) {\r\n      // 文件列表\r\n      let fileList = e.target.files;\r\n      let fileLength = fileList.length;\r\n      // 上传状态\r\n      let uploadState = [];\r\n      for (let i = 0; i < fileLength; i++) {\r\n        uploadState[i] = false;\r\n      }\r\n\r\n      let errorList = [];\r\n\r\n      for (let i = 0; i < fileLength; i++) {\r\n        // 模拟请求\r\n        /* let num = Math.random() * 700 + 800;\r\n        num = parseInt(num, 10);\r\n        setTimeout(function() {\r\n          _this.uploadState[i] = true;\r\n          _this.photoList[i] = i;\r\n          let state = true;\r\n          for (let j = 0; j < length; j++) {\r\n            if (!_this.uploadState[j]) {\r\n              state = false;\r\n              break;\r\n            }\r\n          }\r\n          if (state) {\r\n            console.log(\"全部上传完了\", _this.uploadState, _this.photoList);\r\n          } else {\r\n            console.log(\"第 \" + i + \" 张图片上传完了\");\r\n          }\r\n        }, num); */\r\n\r\n        let file = fileList[i];\r\n\r\n        imgBeforeUpload(file)\r\n          .then(rst => {\r\n            upload(rst.formData).then(response => {\r\n              uploadState[i] = true;\r\n              let photo = {\r\n                pic_url: \"http://\" + response.data.pic_address,\r\n                pic_id: response.data.pic_id\r\n              };\r\n              this.photoList.push(photo);\r\n              // this.photoList.$set(this.photoList.length, photo);\r\n              // Vue.set(this.photoList, this.photoList.length, photo)\r\n              // this.photoList.splice(this.photoList.length, 1, photo)\r\n              // 强制重新渲染整个列表\r\n              this.$forceUpdate();\r\n\r\n              // 判断是否全部上传完\r\n              let state = true;\r\n              for (let j = 0; j < fileLength; j++) {\r\n                if (!uploadState[j]) {\r\n                  state = false;\r\n                  break;\r\n                }\r\n              }\r\n              if (state) {\r\n                this.isUploaded = true;\r\n                let pic_ids_arr = this.photoList.map(photo => photo.pic_id);\r\n                this.$emit(\"afterUpload\", pic_ids_arr.join(\",\"));\r\n                console.log(\"第 \" + i + \" 张图片上传完了\");\r\n                console.log(\r\n                  \"全部上传完了\",\r\n                  uploadState,\r\n                  this.photoList,\r\n                  this.isUploaded\r\n                );\r\n                if (errorList.length) {\r\n                  this.$message.error(\r\n                    \"第\" + errorList.join(\", \") + \"张图片出错，可能原因是图片大于5MB！\"\r\n                  );\r\n                }\r\n              } else {\r\n                console.log(\"第 \" + i + \" 张图片上传完了\");\r\n              }\r\n            });\r\n          })\r\n          .catch(err => {\r\n            uploadState[i] = true;\r\n            errorList.push(i + 1);\r\n            // 判断是否全部上传完\r\n            let state = true;\r\n            for (let j = 0; j < fileLength; j++) {\r\n              if (!uploadState[j]) {\r\n                state = false;\r\n                break;\r\n              }\r\n            }\r\n            if (state) {\r\n              this.isUploaded = true;\r\n              let pic_ids_arr = this.photoList.map(photo => photo.pic_id);\r\n              this.$emit(\"afterUpload\", pic_ids_arr.join(\",\"));\r\n              console.log(\"第 \" + i + \" 张图片上传完了\");\r\n              console.log(\r\n                \"全部上传完了\",\r\n                uploadState,\r\n                this.photoList,\r\n                this.isUploaded\r\n              );\r\n              if (errorList.length) {\r\n                this.$message.error(\r\n                  \"第\" + errorList.join(\", \") + \"张图片出错，可能原因是图片大于5MB！\"\r\n                );\r\n              }\r\n            } else {\r\n              console.log(\"第 \" + i + \" 张图片上传完了\");\r\n            }\r\n          });\r\n      }\r\n    },\r\n    showPrevPhotos(pic_url) {\r\n      this.prevPhotos = true;\r\n      this.prevPhotoUrl = pic_url;\r\n    },\r\n    delPhoto(index) {\r\n      this.photoList.splice(index, 1);\r\n      let pic_ids_arr = this.photoList.map(photo => photo.pic_id);\r\n      this.$emit(\"afterUpload\", pic_ids_arr.join(\",\"));\r\n      // 强制重新渲染整个列表\r\n      this.$forceUpdate();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.cover-uploader {\r\n  display: inline-block;\r\n  width: 120px;\r\n  height: 120px;\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n  margin: 10px;\r\n}\r\n.cover-uploader:hover {\r\n  border-color: #20a0ff;\r\n  .cover-uploader-op {\r\n    opacity: 1;\r\n  }\r\n}\r\n.cover-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 120px;\r\n  height: 120px;\r\n  line-height: 120px;\r\n  text-align: center;\r\n}\r\n.cover-uploader-op {\r\n  opacity: 0;\r\n  transition: opacity 0.3s;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  font-size: 20px;\r\n  color: #fff;\r\n  width: 120px;\r\n  height: 120px;\r\n  line-height: 120px;\r\n  text-align: center;\r\n  background: rgba(0, 0, 0, 0.3);\r\n}\r\n.cover-img {\r\n  width: 120px;\r\n  height: 120px;\r\n  display: block;\r\n  object-fit: cover;\r\n}\r\n\r\n.upload-photos {\r\n  margin-bottom: 20px;\r\n  .upload-body {\r\n    padding: 10px;\r\n    border: 1px solid #bfcbd9;\r\n    font-size: 0;\r\n  }\r\n  .el-dialog__body {\r\n    text-align: center;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// index.vue?4597e303","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.is-iterable');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/is-iterable.js\n// module id = Xd32\n// module chunks = 0 1 2","\"use strict\";\n\nexports.__esModule = true;\n\nvar _isIterable2 = require(\"../core-js/is-iterable\");\n\nvar _isIterable3 = _interopRequireDefault(_isIterable2);\n\nvar _getIterator2 = require(\"../core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if ((0, _isIterable3.default)(Object(arr))) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/helpers/slicedToArray.js\n// module id = d7EF\n// module chunks = 0 1 2","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/get-iterator.js\n// module id = fxRn\n// module chunks = 0 1 2 3","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/core.get-iterator.js\n// module id = g8Ux\n// module chunks = 0 1 2 3","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/json/stringify.js\n// module id = mvHQ\n// module chunks = 1 2 5","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"upload-photos\"\n  }, [_c('div', {\n    staticClass: \"upload-body\"\n  }, [(_vm.isCanUpload) ? _c('div', {\n    staticClass: \"cover-uploader\",\n    on: {\n      \"click\": _vm.emitFile\n    }\n  }, [_c('input', {\n    ref: \"multipleFile\",\n    staticStyle: {\n      \"opacity\": \"0\",\n      \"position\": \"fixed\",\n      \"top\": \"-1000px\"\n    },\n    attrs: {\n      \"type\": \"file\",\n      \"accept\": \"image/*\",\n      \"multiple\": \"multiple\"\n    },\n    on: {\n      \"change\": _vm.uploadPhotos\n    }\n  }), _vm._v(\" \"), _c('i', {\n    staticClass: \"el-icon-plus cover-uploader-icon\"\n  })]) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.photoList), function(photo, index) {\n    return _c('div', {\n      key: photo.pic_id,\n      staticClass: \"cover-uploader\"\n    }, [_c('img', {\n      staticClass: \"cover-img\",\n      attrs: {\n        \"src\": photo.pic_url\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"cover-uploader-op\"\n    }, [_c('i', {\n      staticClass: \"el-icon-view\",\n      on: {\n        \"click\": function($event) {\n          _vm.showPrevPhotos(photo.pic_url)\n        }\n      }\n    }), _vm._v(\" \"), (_vm.isCanUpload) ? _c('i', {\n      staticClass: \"el-icon-delete\",\n      on: {\n        \"click\": function($event) {\n          _vm.delPhoto(index)\n        }\n      }\n    }) : _vm._e()])])\n  }), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"size\": \"large\"\n    },\n    model: {\n      value: (_vm.prevPhotos),\n      callback: function($$v) {\n        _vm.prevPhotos = $$v\n      },\n      expression: \"prevPhotos\"\n    }\n  }, [_c('img', {\n    staticStyle: {\n      \"max-width\": \"100%\",\n      \"max-height\": \"100%\"\n    },\n    attrs: {\n      \"src\": _vm.prevPhotoUrl,\n      \"alt\": \"\"\n    }\n  })])], 2)])\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-4779aea4\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-4779aea4\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/uploadPhotos/index.vue\n// module id = nFXS\n// module chunks = 2 3","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/json/stringify.js\n// module id = qkKv\n// module chunks = 1 2 5","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"app-container store-album\"\n  }, [_c('div', {\n    staticClass: \"header\"\n  }, [_c('div', {\n    staticClass: \"album-info\"\n  }, [(!_vm.isEdit) ? _c('img', {\n    staticClass: \"cover\",\n    attrs: {\n      \"src\": _vm.albumInfo.cover_pic ? 'http://' + _vm.albumInfo.cover_pic : ''\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.isEdit) ? _c('div', {\n    staticClass: \"cover-uploader\",\n    on: {\n      \"click\": _vm.emitFile\n    }\n  }, [_c('input', {\n    ref: \"file\",\n    staticStyle: {\n      \"opacity\": \"0\",\n      \"position\": \"fixed\",\n      \"top\": \"-1000px\"\n    },\n    attrs: {\n      \"type\": \"file\",\n      \"accept\": \"image/*\"\n    },\n    on: {\n      \"change\": _vm.upload\n    }\n  }), _vm._v(\" \"), (_vm.albumInfo.cover_pic) ? _c('img', {\n    staticClass: \"cover-img\",\n    attrs: {\n      \"src\": _vm.albumInfo.cover_pic ? 'http://' + _vm.albumInfo.cover_pic : ''\n    }\n  }) : _vm._e()]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"info\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [(!_vm.isEdit) ? _c('span', [_vm._v(_vm._s(_vm.albumInfo.title))]) : _vm._e(), (_vm.isEdit) ? _c('el-input', {\n    attrs: {\n      \"placeholder\": \"请输入内容\"\n    },\n    model: {\n      value: (_vm.albumInfo.title),\n      callback: function($$v) {\n        _vm.albumInfo.title = $$v\n      },\n      expression: \"albumInfo.title\"\n    }\n  }) : _vm._e()], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"desc\"\n  }, [(!_vm.isEdit) ? _c('div', {\n    staticClass: \"store\"\n  }, [_vm._v(\"门店：\" + _vm._s(_vm.store))]) : _vm._e(), _vm._v(\" \"), (!_vm.isEdit) ? _c('div', {\n    staticClass: \"add-time\"\n  }, [_vm._v(\"创建于：\" + _vm._s(_vm.formatDateTime(_vm.albumInfo.add_time)))]) : _vm._e(), _vm._v(\" \"), (_vm.isEdit) ? _c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择\"\n    },\n    model: {\n      value: (_vm.albumInfo.store_id),\n      callback: function($$v) {\n        _vm.albumInfo.store_id = $$v\n      },\n      expression: \"albumInfo.store_id\"\n    }\n  }, _vm._l((_vm.storeList), function(item) {\n    return _c('el-option', {\n      key: item.id,\n      attrs: {\n        \"label\": item.name,\n        \"value\": item.id\n      }\n    })\n  })) : _vm._e()], 1)])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"btn-op\"\n  }, [(!_vm.isEdit) ? _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"icon\": \"edit\"\n    },\n    on: {\n      \"click\": _vm.editBtn\n    }\n  }, [_vm._v(\"修改\")]) : _vm._e(), _vm._v(\" \"), (!_vm.isEdit) ? _c('el-button', {\n    attrs: {\n      \"type\": \"danger\",\n      \"icon\": \"delete\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.delAlbum(_vm.albumInfo.id, _vm.albumInfo.title)\n      }\n    }\n  }, [_vm._v(\"删除\")]) : _vm._e(), _vm._v(\" \"), (_vm.isEdit) ? _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"disabled\": !_vm.isCanSubmit\n    },\n    on: {\n      \"click\": _vm.editSubmit\n    }\n  }, [_vm._v(\"确认\")]) : _vm._e(), _vm._v(\" \"), (_vm.isEdit) ? _c('el-button', {\n    on: {\n      \"click\": _vm.cancel\n    }\n  }, [_vm._v(\"取消\")]) : _vm._e()], 1)]), _vm._v(\" \"), _c('div', {\n    staticClass: \"btn-upload\"\n  }, [(!_vm.isCanUpload) ? _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.uploadBtn\n    }\n  }, [_vm._v(\"编辑图片\")]) : _vm._e(), _vm._v(\" \"), (_vm.isCanUpload) ? _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"disabled\": !_vm.isCanUploadSubmit\n    },\n    on: {\n      \"click\": _vm.uploadSubmit\n    }\n  }, [_vm._v(\"确认\")]) : _vm._e(), _vm._v(\" \"), (_vm.isCanUpload) ? _c('el-button', {\n    on: {\n      \"click\": _vm.uploadCancel\n    }\n  }, [_vm._v(\"取消\")]) : _vm._e()], 1), _vm._v(\" \"), _c('upload-photos', {\n    attrs: {\n      \"photoList\": _vm.photoList,\n      \"isCanUpload\": _vm.isCanUpload\n    },\n    on: {\n      \"afterUpload\": _vm.afterUpload\n    }\n  })], 1)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-e58ada48\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-e58ada48\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/minipage/storeAlbum.vue\n// module id = tc/W\n// module chunks = 2","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e58ada48\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./storeAlbum.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./storeAlbum.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e58ada48\\\",\\\"hasScoped\\\":false}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./storeAlbum.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\nComponent.options.__file = \"E:\\\\gitee\\\\adminPage\\\\src\\\\views\\\\minipage\\\\storeAlbum.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] storeAlbum.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-e58ada48\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-e58ada48\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/minipage/storeAlbum.vue\n// module id = tgDM\n// module chunks = 2","module.exports = { \"default\": require(\"core-js/library/fn/is-iterable\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/is-iterable.js\n// module id = us/S\n// module chunks = 0 1 2","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.cover-uploader {\\n  display: inline-block;\\n  width: 120px;\\n  height: 120px;\\n  border: 1px dashed #d9d9d9;\\n  border-radius: 6px;\\n  cursor: pointer;\\n  position: relative;\\n  overflow: hidden;\\n  margin: 10px;\\n}\\n.cover-uploader:hover {\\n  border-color: #20a0ff;\\n}\\n.cover-uploader:hover .cover-uploader-op {\\n    opacity: 1;\\n}\\n.cover-uploader-icon {\\n  font-size: 28px;\\n  color: #8c939d;\\n  width: 120px;\\n  height: 120px;\\n  line-height: 120px;\\n  text-align: center;\\n}\\n.cover-uploader-op {\\n  opacity: 0;\\n  transition: opacity 0.3s;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  font-size: 20px;\\n  color: #fff;\\n  width: 120px;\\n  height: 120px;\\n  line-height: 120px;\\n  text-align: center;\\n  background: rgba(0, 0, 0, 0.3);\\n}\\n.cover-img {\\n  width: 120px;\\n  height: 120px;\\n  display: block;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\n.upload-photos {\\n  margin-bottom: 20px;\\n}\\n.upload-photos .upload-body {\\n    padding: 10px;\\n    border: 1px solid #bfcbd9;\\n    font-size: 0;\\n}\\n.upload-photos .el-dialog__body {\\n    text-align: center;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":false,\"sourceMap\":false}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4779aea4\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/uploadPhotos/index.vue\n// module id = wD52\n// module chunks = 2 3","import fetch from '@/utils/fetch1';\r\nconst qs = require('qs');\r\n\r\nexport function add(params) {\r\n    return fetch({\r\n        url: '/api/album/add',\r\n        method: 'post',\r\n        data: qs.stringify(params),\r\n        headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n        }\r\n    });\r\n}\r\n\r\nexport function lists(params) {\r\n    return fetch({\r\n        url: '/api/album/lists',\r\n        method: 'post',\r\n        data: qs.stringify(params),\r\n        headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n        }\r\n    });\r\n}\r\n\r\nexport function dlAlbum(params) {\r\n    return fetch({\r\n        url: '/api/album/delete',\r\n        method: 'post',\r\n        data: qs.stringify(params),\r\n        headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n        }\r\n    })\r\n}\r\n\r\n// 获取单个相册\r\nexport function getPhotos(params) {\r\n    return fetch({\r\n        url: '/api/album/info',\r\n        method: 'post',\r\n        data: qs.stringify(params),\r\n        headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n        }\r\n    })\r\n}\r\n\r\nexport function edit(params) {\r\n    return fetch({\r\n        url: '/api/album/edit',\r\n        method: 'post',\r\n        data: qs.stringify(params),\r\n        headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n        }\r\n    });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/album.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.store-album .header {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: end;\\n      -ms-flex-align: end;\\n          align-items: flex-end;\\n  -webkit-box-pack: justify;\\n      -ms-flex-pack: justify;\\n          justify-content: space-between;\\n  background: #fff;\\n  padding: 20px;\\n  border: 1px solid #e3e8f0;\\n  margin-bottom: 20px;\\n}\\n.store-album .header .album-info {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-pack: start;\\n        -ms-flex-pack: start;\\n            justify-content: flex-start;\\n    font-size: 20px;\\n    line-height: 2;\\n}\\n.store-album .header .album-info .cover {\\n      width: 80px;\\n      height: 80px;\\n      margin-right: 20px;\\n      -o-object-fit: cover;\\n         object-fit: cover;\\n}\\n.store-album .header .album-info .cover-uploader {\\n      width: 80px;\\n      height: 80px;\\n      border: 1px dashed #d9d9d9;\\n      border-radius: 6px;\\n      cursor: pointer;\\n      position: relative;\\n      overflow: hidden;\\n      margin: 0;\\n      margin-right: 20px;\\n}\\n.store-album .header .album-info .cover-uploader:hover {\\n      border-color: #20a0ff;\\n}\\n.store-album .header .album-info .cover-img {\\n      width: 80px;\\n      height: 80px;\\n      display: block;\\n}\\n.store-album .header .album-info .info .title {\\n      margin-bottom: 10px;\\n}\\n.store-album .header .album-info .info .desc {\\n      display: -webkit-box;\\n      display: -ms-flexbox;\\n      display: flex;\\n      -webkit-box-pack: start;\\n          -ms-flex-pack: start;\\n              justify-content: flex-start;\\n      font-size: 14px;\\n      color: #99a9bf;\\n}\\n.store-album .header .album-info .info .desc > *:not(:first-child):before {\\n        content: \\\"/\\\";\\n        padding: 0 0.5em;\\n}\\n.store-album .upload-photos {\\n  background: #fff;\\n}\\n.store-album .btn-upload {\\n  padding: 10px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":false,\"sourceMap\":false}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-e58ada48\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/minipage/storeAlbum.vue\n// module id = znm1\n// module chunks = 2","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4779aea4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4779aea4\\\",\\\"hasScoped\\\":false}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\nComponent.options.__file = \"E:\\\\gitee\\\\adminPage\\\\src\\\\components\\\\uploadPhotos\\\\index.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] index.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-4779aea4\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-4779aea4\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/uploadPhotos/index.vue\n// module id = zyxP\n// module chunks = 2 3"],"sourceRoot":""}