webpackJsonp([8],{"Bdh/":function(t,e,i){"use strict";function a(t){return i.i(s.a)({url:"/api/visit/add",method:"post",data:l.stringify(t),headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function n(t){return i.i(s.a)({url:"/api/visit/lists",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:l.stringify(t)})}e.a=a,e.b=n;var s=i("k97f"),l=i("mw3O")},EhfW:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("Bdh/"),n=i("0xDb");e.default={data:function(){return{total:null,page:1,size:10,listQuery:{offset:"0,10",store_id:void 0,mobile:void 0},list:null,listLoading:!0}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0,i.i(a.b)(this.listQuery).then(function(e){t.list=e.data.list,t.total=e.data.total,t.listLoading=!1})},handleSizeChange:function(t){this.size=t,this.listQuery.offset=(this.page-1)*this.size+","+this.size,this.getList()},handleCurrentChange:function(t){this.page=t,this.listQuery.offset=(this.page-1)*this.size+","+this.size,this.getList()},formatVisitType:function(t){var e=void 0;switch(t){case 1:e="自访";break;case 2:e="电话预约";break;case 3:e="拿单页来访";break;case 4:e="会员转介";break;case 5:default:e="会籍引荐"}return e},formatDateTime:function(t){return i.i(n.a)(t)},search:function(){this.getList()}}}},WPxF:function(t,e,i){e=t.exports=i("FZ+f")(!1),e.push([t.i,"\n.demo-table-expand {\r\n  font-size: 0;\n}\n.demo-table-expand label {\r\n  width: 90px;\r\n  color: #99a9bf;\n}\n.demo-table-expand .el-form-item {\r\n  margin-right: 0;\r\n  margin-bottom: 0;\r\n  width: 50%;\n}\n.visitor-list .pagination-container {\r\n  margin-top: 10px;\n}\r\n",""])},ZK4M:function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container visitor-list"},[i("el-card",[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.listQuery}},[i("el-form-item",{attrs:{label:"门店"}},[i("el-select",{attrs:{placeholder:"选择门店"},model:{value:t.listQuery.store_id,callback:function(e){t.listQuery.store_id=e},expression:"listQuery.store_id"}},[i("el-option",{attrs:{label:"全部",value:"0"}}),t._v(" "),i("el-option",{attrs:{label:"龙珠店",value:"2"}}),t._v(" "),i("el-option",{attrs:{label:"海德店",value:"1"}})],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"手机号码"}},[i("el-input",{attrs:{placeholder:"请输入会员手机号码"},model:{value:t.listQuery.mobile,callback:function(e){t.listQuery.mobile=e},expression:"listQuery.mobile"}})],1),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")])],1)],1),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.listLoading,expression:"listLoading",modifiers:{body:!0}}],staticStyle:{width:"100%"},attrs:{"element-loading-text":"拼命加载中",stripe:"","highlight-current-row":"",data:t.list}},[i("el-table-column",{attrs:{label:"日期",prop:"visit_time"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(t.formatDateTime(e.row.visit_time)))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"姓名",prop:"name"}}),t._v(" "),i("el-table-column",{attrs:{label:"性别",prop:"sex",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(1===e.row.sex?"男":"女"))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"手机号码",prop:"mobile"}}),t._v(" "),i("el-table-column",{attrs:{label:"来访门店",prop:"store_id"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(1===e.row.store_id?"英威尔海德店":"英威尔龙珠店"))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"接待人员",prop:"reception_staff"}}),t._v(" "),i("el-table-column",{attrs:{label:"来访方式",prop:"visit_type"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(t.formatVisitType(e.row.visit_type)))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"推荐会员",prop:"recommend_staff"}})],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.listLoading,expression:"!listLoading"}],staticClass:"pagination-container"},[i("el-pagination",{attrs:{"current-page":t.page,"page-sizes":[5,10],"page-size":t.size,layout:"total, sizes, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.page=e}}})],1)],1)],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},bb2E:function(t,e,i){var a=i("WPxF");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("04332c9d",a,!1)},jRX0:function(t,e,i){function a(t){n||i("bb2E")}var n=!1,s=i("VU/8")(i("EhfW"),i("ZK4M"),a,null,null);s.options.__file="E:\\gitee\\adminPage\\src\\views\\visitor\\list.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)}),s.options.functional,t.exports=s.exports}});
//# sourceMappingURL=8.2a69c8737cd03cc0eb48.js.map