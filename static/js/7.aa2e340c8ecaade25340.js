webpackJsonp([7],{ApoL:function(e,t,r){var o=r("FOfH");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r("rjj0")("000e1122",o,!1)},"Bdh/":function(e,t,r){"use strict";function o(e){return r.i(n.a)({url:"/api/visit/add",method:"post",data:a.stringify(e),headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function i(e){return r.i(n.a)({url:"/api/visit/lists",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:a.stringify(e)})}t.a=o,t.b=i;var n=r("k97f"),a=r("mw3O")},FOfH:function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,"\n.visitor-record .el-form {\r\n  width: 100%;\r\n  max-width: 600px;\n}\n.visitor-record .save {\r\n  margin: 20px;\r\n  text-align: center;\n}\r\n",""])},OvCw:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("Dd8w"),i=r.n(o),n=r("pFYg"),a=r.n(n),s=r("NYxO"),l=r("Bdh/");t.default={data:function(){var e=function(e,t,r){return t?/^1[34578]\d{9}$/.test(t)?r():void r(new Error("请输入正确的手机号码，如：13600002388")):r(new Error("电话不能为空"))},t=function(e,t,r){if("object"!==(void 0===t?"undefined":a()(t))?!t:!t.length)return r(new Error(e.errMsg));r()};return{form:{name:"",sex:"",mobile:"",store_id:"",recommend_staff:"",reception_staff:"",visit_type:""},isRecommend:!1,formRules:{name:[{validator:t,errMsg:"请输入姓名",trigger:"blur"}],mobile:[{validator:e,trigger:"blur"}],sex:[{validator:t,errMsg:"请选择性别",trigger:"change"}],store_id:[{validator:t,errMsg:"请选择门店",trigger:"change"}],recommend_staff:[{validator:this.validateEmpty,errMsg:"请输入推荐会员",trigger:"blur"}],reception_staff:[{validator:t,errMsg:"请输入接待人员",trigger:"blur"}],visit_type:[{validator:t,errMsg:"请选择来访方式",trigger:"change"}]},isSubmit:!1}},computed:i()({},r.i(s.c)(["winsize"]),{labelPosition:function(){return"xs"===this.winsize?"top":"right"}}),methods:{validateEmpty:function(e,t,r){return this.isRecommend?("object"!==(void 0===t?"undefined":a()(t))?t:t.length)?void r():r(new Error(e.errMsg)):r()},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message.error("提交失败，请检查表单！"),!1;t.onSubmit()})},onSubmit:function(){var e=this;this.isSubmit=!0,r.i(l.a)(this.form).then(function(t){e.isSubmit=!1,e.$message.success("访客登记成功")})},visitTypeChange:function(e){this.isRecommend="4"===e}}}},bGJx:function(e,t,r){function o(e){i||r("ApoL")}var i=!1,n=r("VU/8")(r("OvCw"),r("gk3x"),o,null,null);n.options.__file="E:\\gitee\\adminPage\\src\\views\\visitor\\record.vue",n.esModule&&Object.keys(n.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)}),n.options.functional,e.exports=n.exports},gk3x:function(e,t,r){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container visitor-record"},[r("el-card",{staticClass:"box-card"},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.formRules,"label-width":"150px","label-position":e.labelPosition}},[r("el-form-item",{attrs:{label:"姓名",prop:"name"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.form.name=t},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"性别",prop:"sex"}},[r("el-radio-group",{model:{value:e.form.sex,callback:function(t){e.form.sex=t},expression:"form.sex"}},[r("el-radio",{attrs:{label:1}},[e._v("男")]),e._v(" "),r("el-radio",{attrs:{label:2}},[e._v("女")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[r("el-input",{model:{value:e.form.mobile,callback:function(t){e.form.mobile=t},expression:"form.mobile"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"来访门店",prop:"store_id"}},[r("el-radio-group",{model:{value:e.form.store_id,callback:function(t){e.form.store_id=t},expression:"form.store_id"}},[r("el-radio",{attrs:{label:2}},[e._v("龙珠店")]),e._v(" "),r("el-radio",{attrs:{label:1}},[e._v("海德店")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"接待人员",prop:"reception_staff"}},[r("el-input",{model:{value:e.form.reception_staff,callback:function(t){e.form.reception_staff=t},expression:"form.reception_staff"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"来访方式",prop:"visit_type"}},[r("el-select",{attrs:{placeholder:"请选择来访方式"},on:{change:e.visitTypeChange},model:{value:e.form.visit_type,callback:function(t){e.form.visit_type=t},expression:"form.visit_type"}},[r("el-option",{attrs:{label:"自访",value:"1"}}),e._v(" "),r("el-option",{attrs:{label:"电话预约",value:"2"}}),e._v(" "),r("el-option",{attrs:{label:"拿单页来访",value:"3"}}),e._v(" "),r("el-option",{attrs:{label:"会员转介",value:"4"}}),e._v(" "),r("el-option",{attrs:{label:"会籍引荐",value:"5"}})],1)],1),e._v(" "),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isRecommend,expression:"isRecommend"}],attrs:{label:"推荐会员",prop:"recommend_staff"}},[r("el-input",{model:{value:e.form.recommend_staff,callback:function(t){e.form.recommend_staff=t},expression:"form.recommend_staff"}})],1)],1)],1),e._v(" "),r("div",{staticClass:"save"},[r("el-button",{attrs:{type:"primary",loading:e.isSubmit},on:{click:function(t){e.submitForm("form")}}},[e._v("保存")])],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0}});
//# sourceMappingURL=7.aa2e340c8ecaade25340.js.map